<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>角色与法宝卡选择</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

      .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }

        label {
            font-size: 18px;
            margin-bottom: 10px;
        }

        select {
            padding: 5px;
            font-size: 16px;
            margin-bottom: 20px;
        }

      .result {
            font-size: 20px;
            font-weight: bold;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <!--選擇角色和法寶卡-->
        <label>选择角色：</label>
        <select id="characterSelect">
            <option value="黑麥">黑麥</option>
            <option value="雪花糖球">雪花糖球</option>
            <option value="角色3">角色 3</option>
        </select>

        <label>选择法宝卡：</label>
        <select id="treasureCardSelect">
            <option value="法宝卡1">法宝卡 1</option>
            <option value="法宝卡2">法宝卡 2</option>
            <option value="法宝卡3">法宝卡 3</option>
        </select>

        <label>选择套装：</label>
        <select id="equipmentSelect">
            <option value="屬性套">屬性套</option>
            <option value="謎樣流浪者">謎樣流浪者</option>
            <option value="詭異的獵人">詭異的獵人</option>
        </select>

        <label>考虑辅助：</label>
        <input type="radio" id="No" name="support" value="no">
        <label for="No">否</label>
        <input type="radio" id="Yes" name="support" value="yes">
        <label for="Yes">是</label>


        <div id="assistSelect" style="display: none;">
            <label>选择辅助：</label>
            <select multiple id="assistList">
                <option value="辅助1">辅助 1</option>
                <option value="辅助2">辅助 2</option>
                <option value="辅助3">辅助 3</option>
            </select>
        </div>

        <button onclick="calculate()">计算</button>
        <div id="potentialResult"></div>

        <div class="result" id="baseAtkResult">基础攻击力：</div>
        <div class="result" id="atkPercentageResult">攻击力百分比：</div>
        <div class="result" id="attributeDamageResult">属性伤害百分比：</div>
        <div class="result" id="critRateResult">暴击率：</div>
        <div class="result" id="critDamageResult">暴击伤害：</div>
    </div>
    <!--抓取角色和法寶卡資料-->
    <script src="CharacterData.js"></script>
    <script src="TreasureCardData.js"></script>
    <script src="EquipmentData.js"></script>
    <script>
        // 更新结果，并将抓取结果设定为常量
        const characterSelect = document.getElementById('characterSelect');
        const treasureCardSelect = document.getElementById('treasureCardSelect');
        const equipmentSelect = document.getElementById('equipmentSelect');
        const considerAssistSelect = document.getElementById('support');
        const assistSelectDiv = document.getElementById('assistSelect');
        const assistList = document.getElementById('assistList');

        document.addEventListener('DOMContentLoaded', function () {
            const considerAssistYes = document.getElementById('considerAssistYes');
            const considerAssistNo = document.getElementById('considerAssistNo');
            const assistSelect = document.getElementById('assistSelect');

            considerAssistYes.addEventListener('change', function () {
                if (this.checked) {
                   assistSelect.style.display = 'block';
                }
            });

            considerAssistNo.addEventListener('change', function () {
                if (this.checked) {
                   assistSelect.style.display = 'none';
                }
            });
        });

        function updateResults() {
            // 与之前相同的更新结果代码
        }

        characterSelect.addEventListener('change', updateResults);
        treasureCardSelect.addEventListener('change', updateResults);
        equipmentSelect.addEventListener('change', updateResults);

        function calculate() {
            const selectedCharacter = characterSelect.value;
            const selectedTreasureCard = treasureCardSelect.value;
            const selectedEquipment = equipmentSelect.value;
            const considerAssist = considerAssistSelect.value;

            // 获取辅助选择的值
            const selectedAssists = [];
            for (const option of assistList.options) {
                if (option.selected) {
                    selectedAssists.push(option.value);
                }
            }

            // 这里进行计算逻辑，根据是否考虑辅助和所选辅助进行不同的计算
            // 暂时先打印选择结果以供参考
            console.log('角色:', selectedCharacter);
            console.log('法宝卡:', selectedTreasureCard);
            console.log('套装:', selectedEquipment);
            console.log('考虑辅助:', considerAssist);
            console.log('所选辅助:', selectedAssists);
        }
    </script>
</body>

</html>